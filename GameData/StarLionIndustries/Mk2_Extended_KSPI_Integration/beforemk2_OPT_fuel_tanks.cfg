//sets up these parts to be handled by the main patch file (mk2_KSPI_fuel_tanks.cfg)

@PART[*]:HAS[@RESOURCE[LiquidFuel],!MODULE[ModuleFuelTanks],!MODULE[InterstellarFuelSwitch],@author[K.Yeon]]:NEEDS[InterstellarFuelSwitch]:FIRST
{
	@RESOURCE[LiquidFuel]:HAS[@RESOURCE[Oxidizer]]
	{
		%addition = #$/../RESOURCE[Oxidizer]/maxAmount$
		@amount += #$/addition$

		@maxAmount += #$/addition$
	}
	@RESOURCE[LiquidFuel]:HAS[@RESOURCE[XenonGas]]
	{
		%addition = #$/../RESOURCE[XenonGas]/maxAmount$
		@amount += #$/addition$

		@maxAmount += #$/addition$
	}
	@RESOURCE[LiquidFuel]:HAS[@RESOURCE[MonoPropellant]]
	{
		%addition = #$/../RESOURCE[MonoPropellant]/maxAmount$
		@amount += #$/addition$

		@maxAmount += #$/addition$
	}
	!RESOURCE[Oxidizer]{}
	!RESOURCE[MonoPropellant]{}
	!RESOURCE[XenonGas]{}
	amIforIFS = TRUE
	%LFamount = #$/RESOURCE[LiquidFuel]/maxAmount$
}

@PART[*]:HAS[@amIforIFS[TRUE]]:AFTER[OPT]
{
	!amIforIFS = NULL
	!MODULE[ModuleFuelTanks]{}
	!MODULE[FSmeshSwitch]{}
	!MODULE[FSfuelSwitch]{}
	%RESOURCE[LiquidFuel]
	{
		%amount = #$../LFamount$
	}
}